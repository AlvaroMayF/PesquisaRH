<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ 'Editar Vaga' if vaga else 'Adicionar Nova Vaga' }} - Rede Samar</title>
    <!-- Link para o CSS base do sistema (MUITO IMPORTANTE) -->
    <link rel="stylesheet" href="{{ url_for('views.static', filename='base/base.css') }}">
    <!-- Link para o CSS específico desta página -->
    <link rel="stylesheet" href="{{ url_for('views.static', filename='admin/form_vaga.css') }}">
</head>
<body>
    <main class="admin-page-container">
        <h1 class="page-title">{{ 'Editar Vaga' if vaga else 'Adicionar Nova Vaga' }}</h1>

        <div class="form-card">
            <form method="POST">
                <div class="form-group">
                    <label for="titulo">Título da Vaga</label>
                    <input type="text" id="titulo" name="titulo" value="{{ vaga.titulo if vaga }}" required class="form-input">
                </div>

                <div class="form-group">
                    <label for="unidade_id">Unidade</label>
                    <select id="unidade_id" name="unidade_id" required class="form-select">
                        {% for unidade in unidades %}
                            <option value="{{ unidade.id }}" {% if vaga and vaga.unidade_id == unidade.id %}selected{% endif %}>
                                {{ unidade.nome }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="descricao">Descrição</label>
                    <textarea id="descricao" name="descricao" class="form-textarea">{{ vaga.descricao if vaga }}</textarea>
                </div>

                <div class="form-group">
                    <label for="requisitos">Requisitos</label>
                    <textarea id="requisitos" name="requisitos" class="form-textarea">{{ vaga.requisitos if vaga }}</textarea>
                </div>

                <div class="form-group">
                    <label for="status">Status</label>
                    <select id="status" name="status" required class="form-select">
                        <option value="Aberta" {% if vaga and vaga.status == 'Aberta' %}selected{% endif %}>Aberta</option>
                        <option value="Fechada" {% if vaga and vaga.status == 'Fechada' %}selected{% endif %}>Fechada</option>
                        <option value="Pausada" {% if vaga and vaga.status == 'Pausada' %}selected{% endif %}>Pausada</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Salvar Vaga</button>
                    <a href="{{ url_for('admin_vagas.gerenciar_vagas') }}" class="btn btn-secondary">Cancelar</a>
                </div>
            </form>
        </div>
    </main>
</body>
</html>